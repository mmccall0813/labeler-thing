<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
        <script src="libs/jszip.min.js"></script>
        <link rel="stylesheet" href="style.css">
    </head>
    <body oncontextmenu="return false;" onload="loadTags()">
        <div class="tagSelectorBackground" onclick="if(event.target === this) cancelPendingBox()">
            <div class="tagSelectorContainer">
                <input class="tagSelectorSearch" type="text" placeholder="Search for a tag..." oninput="searchSelectorTagList(this)"/>
                <div class="tagSelectorList">

                </div>
                <div class="tagSelectorConfirmButton tagSelectorButton disabled" onclick="confirmPendingBox()"><span>Confirm</span></div>
                <div class="tagSelectorCancelButton tagSelectorButton" onclick="cancelPendingBox()"><span>Cancel</span></div>
            </div>
        </div>
        <div class="container">
            <div class="toolbar">
                <div class="toolbarItem">
                    <span class="centered">File</span>
                    <div class="toolbarItems">
                        <div class="toolbarItemChild" onclick="this.childNodes[2].click()"><a class="icon bi bi-file-earmark-image"></a>Open image<input type="file" style="display:none;" accept=".jpg,.jpeg,.png" oninput="openSingleFile(this)"/></div>
                        <div class="toolbarItemChild" onclick="this.childNodes[2].click()"><a class="icon bi bi-file-earmark-image"></a>Open multiple images<input type="file" style="display:none;" accept=".jpg,.jpeg,.png" multiple="multiple" oninput="openMultipleFiles(this)"/></div>
                        <div class="toolbarItemChild"><i class="icon bi bi-download"></i>Export all labels</div>
                    </div>
                </div>
                <div class="toolbarItem">
                    <span class="centered">View</span>
                    <div class="toolbarItems">
                        <div class="toolbarItemChild" onclick="toggleLabels(this.childNodes[0]);"><a class="icon bi bi-square"></a>Show labels</div>
                        <div class="toolbarItemChild" onclick="sizeMultiplier = 1; imageOffset = [0,0]; draw();"><a class="icon bi bi-arrow-clockwise"></a>Reset image position</div>
                        <div class="toolbarItemChild" onclick="zoomIn();"><a class="icon bi bi-zoom-in"></a>Zoom in</div>
                        <div class="toolbarItemChild" onclick="zoomOut();"><a class="icon bi bi-zoom-out"></a>Zoom out</div>
                    </div>
                </div>
            </div>
            <div class="rightSideInfoPane">
                <div class="tagsListContainer listContainer">
                    <div class="paneHeader">
                        <div class="paneTitle">Tags</div>
                        <div class="rightAlignedButton bi bi-plus-square" onclick="createTag()" title="create a tag"></div>
                        <div class="rightAlignedButton bi bi-floppy2-fill" onclick="saveTags()" title="save these tags"></div>
                    </div>
                    <div class="tagsListContent ListContent">

                    </div>
                </div>
                <div class="labelListContainer listContainer">
                    <div class="paneHeader">
                        <div class="paneTitle labelsTitle">Labels</div>
                        <div class="rightAlignedButton bi bi-plus-square" onclick="mode='newbox'; selectedBox?.element.classList.remove('selected'); selectedBox=null; handle=-1; draw()" title="keybind: w"></div>
                    </div>
                    <div class="labelListContent ListContent">

                    </div>
                </div>
                <div class="fileListContainer listContainer">
                    <div class="paneHeader">
                        <div><span class="centered">Files</span></div>
                    </div>
                    <div class="fileListContent ListContent">

                    </div>
                </div>
            </div>
            <canvas class="display"></canvas>
        </div>
        <script src="main.js"></script>
    </body>
</html>